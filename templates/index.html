<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swarm Wrapped 2025</title>
    <meta name="description" content="See your 2025 in check-ins. Generate your personalized Swarm year in review.">

    <!-- Open Graph / Social Sharing -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Swarm Wrapped 2025">
    <meta property="og:description" content="See your 2025 in check-ins. Generate your personalized Swarm year in review.">
    <meta property="og:image" content="https://swarm.alxprst.co/static/og-image.png?v=2">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://swarm.alxprst.co">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Swarm Wrapped 2025">
    <meta name="twitter:description" content="See your 2025 in check-ins. Generate your personalized Swarm year in review.">
    <meta name="twitter:image" content="https://swarm.alxprst.co/static/og-image.png?v=2">
    <!-- Analytics -->
    <script async src="https://plausible.io/js/pa-jHbUoBKassV6ABzfjUHRv.js"></script>
    <script>window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};plausible.init()</script>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f7f7;
            --accent: #0cbadf;
            --accent-hover: #0aa5c7;
            --text-primary: #1a1a1a;
            --text-secondary: #555555;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #1a1a1a;
                --bg-secondary: #252525;
                --accent: #0cbadf;
                --accent-hover: #3dc9e8;
                --text-primary: #ffffff;
                --text-secondary: #b0b0b0;
            }
        }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .logo { font-size: 5rem; margin-bottom: 1rem; }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: -0.5px;
        }

        .subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 500px;
        }

        .connect-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--accent);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: background 0.2s, transform 0.2s;
        }

        .connect-btn:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
        }

        .connect-btn svg {
            width: 24px;
            height: 24px;
        }

        .features {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            max-width: 600px;
            width: 100%;
        }

        @media (max-width: 500px) {
            .features {
                grid-template-columns: 1fr;
            }
        }

        .feature {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
        }

        .feature-emoji { font-size: 2rem; margin-bottom: 0.5rem; }
        .feature-title { font-weight: 700; margin-bottom: 0.25rem; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 0.5px; }
        .feature-desc { font-size: 0.9rem; color: var(--text-secondary); }

        footer {
            margin-top: 3rem;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        footer a { color: var(--accent); text-decoration: none; }
    </style>
</head>
<body>
    <div class="logo">üìç</div>
    <h1>Swarm Wrapped</h1>
    <p class="subtitle">See your 2025 in check-ins. Connect your Swarm account to generate your personalized year in review.</p>

    {% if authenticated %}
    <form id="wrapped-form" style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
        <div style="display: flex; flex-direction: column; gap: 0.5rem; padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
            <p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.5px;">Privacy filters</p>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.9rem;">
                <input type="checkbox" class="privacy-filter" data-filter="exclude_religious" style="width: 16px; height: 16px; accent-color: var(--accent);">
                <span>Religious places</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.9rem;">
                <input type="checkbox" class="privacy-filter" data-filter="exclude_schools" style="width: 16px; height: 16px; accent-color: var(--accent);">
                <span>Schools & universities</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.9rem;">
                <input type="checkbox" class="privacy-filter" data-filter="exclude_residential" style="width: 16px; height: 16px; accent-color: var(--accent);">
                <span>Homes & apartments</span>
            </label>
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: var(--text-secondary); font-size: 0.9rem;">
                <input type="checkbox" class="privacy-filter" data-filter="exclude_medical" style="width: 16px; height: 16px; accent-color: var(--accent);">
                <span>Medical facilities</span>
            </label>
        </div>
        <a href="/wrapped" class="connect-btn" id="wrapped-link">
            <span>View your wrapped</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
        </a>
    </form>
    <script>
        function updateWrappedLink() {
            const checkboxes = document.querySelectorAll('.privacy-filter:checked');
            const params = Array.from(checkboxes).map(cb => cb.dataset.filter + '=true');
            const link = document.getElementById('wrapped-link');
            link.href = params.length > 0 ? '/wrapped?' + params.join('&') : '/wrapped';
        }
        document.querySelectorAll('.privacy-filter').forEach(cb => {
            cb.addEventListener('change', updateWrappedLink);
        });
    </script>
    {% else %}
    <a href="/login" class="connect-btn">
        <span>Connect Swarm</span>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
        </svg>
    </a>
    {% endif %}

    <div class="features">
        <div class="feature">
            <div class="feature-emoji">üìä</div>
            <div class="feature-title">Your Stats</div>
            <div class="feature-desc">Total check-ins, venues, cities, and countries</div>
        </div>
        <div class="feature">
            <div class="feature-emoji">üî•</div>
            <div class="feature-title">Streaks</div>
            <div class="feature-desc">Your longest consecutive check-in streak</div>
        </div>
        <div class="feature">
            <div class="feature-emoji">üó∫Ô∏è</div>
            <div class="feature-title">Interactive Map</div>
            <div class="feature-desc">See all your check-ins on a map</div>
        </div>
        <div class="feature">
            <div class="feature-emoji">üë•</div>
            <div class="feature-title">Check-in Crew</div>
            <div class="feature-desc">Who you checked in with most</div>
        </div>
    </div>

    <footer>
        <p>Made with ‚ù§Ô∏è in ATX by <a href="https://alexpriest.com" target="_blank" rel="noopener">Alex Priest</a> ¬∑ <a href="https://buymeacoffee.com/alexpriest" target="_blank" rel="noopener">Buy me a coffee ‚òï</a> ¬∑ <span style="color: var(--text-secondary);">v1.7.8</span></p>
        <p style="margin-top: 0.5rem; font-size: 0.8rem;">Built with <a href="https://claude.com/product/claude-code" target="_blank" rel="noopener">Claude Code</a>, <a href="https://railway.com?referralCode=whqqE9" target="_blank" rel="noopener">Railway</a>, and the <a href="https://developer.foursquare.com" target="_blank" rel="noopener">Foursquare API</a></p>
        <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-secondary); border-radius: 8px; max-width: 500px; text-align: left;">
            <p style="font-weight: 500; margin-bottom: 0.5rem;">üîí Privacy</p>
            <p style="font-size: 0.8rem; line-height: 1.5;">Your check-in data is fetched directly from Foursquare, processed in your browser session, and never stored on our servers. We don't save your access token or any personal data. Your session clears automatically when you close your browser.</p>
        </div>
    </footer>
</body>
</html>
